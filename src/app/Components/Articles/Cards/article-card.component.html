<article
  class="relative group/card bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-gray-200 dark:border-slate-800 hover:shadow-xl dark:hover:shadow-blue-900/20 transition-all overflow-hidden h-full flex flex-col duration-300 ease-out hover:-translate-y-1 hover:border-blue-200 dark:hover:border-blue-500"
>
  @if (authService.user()) {
    <div class="absolute top-3 right-3 z-10">
      <app-bookmark-button [article]="article()" (toggled)="bookmark.emit($event)">
      </app-bookmark-button>
    </div>
  }

  <div class="flex items-start justify-between p-6">
    <div class="flex-1">
      <div class="flex items-center space-x-3 mb-3">
        <span
          class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 uppercase tracking-wider"
        >
          Article
        </span>
      </div>
      <h2 class="text-xl font-bold text-gray-900 dark:text-slate-100 leading-tight mb-3 pr-10">
        {{ article().title }}
      </h2>

      <div class="flex items-center space-x-2 text-sm text-gray-600 dark:text-slate-400">
        <div
          class="flex items-center justify-center w-6 h-6 rounded-full bg-linear-to-br from-blue-500 to-blue-600 text-white text-[10px] font-bold shadow-sm"
        >
          {{ (article().author.charAt(0) || 'A').toUpperCase() }}
        </div>
        <span class="font-medium">{{ article().author }}</span>
      </div>
    </div>
  </div>

  @if (article().imageUrl) {
    <div class="relative group">
      <img
        [src]="article().imageUrl"
        [alt]="article().title"
        class="w-full h-56 object-cover border-y border-gray-100 dark:border-slate-800 transition-transform duration-500 group-hover:scale-105"
      />
    </div>
  }

  <div class="p-6 flex-1 flex flex-col">
    <p class="text-gray-600 dark:text-slate-400 mb-6 leading-relaxed line-clamp-3 text-sm">
      {{ article().body }}
    </p>

    <div
      class="mt-auto pt-4 border-t border-gray-100 dark:border-slate-800 flex items-center justify-between"
    >
      <div class="text-xs font-medium text-gray-400 dark:text-slate-500 italic">
        @if (article().sourceName) {
          {{ article().sourceName }}
        }
      </div>

      <div class="flex items-center space-x-2">
        <button
          (click)="edit.emit(article())"
          class="p-2 text-gray-500 dark:text-slate-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors"
          title="Edit Article"
        >
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
            />
          </svg>
        </button>

        <button
          (click)="delete.emit(article().id)"
          class="p-2 text-gray-500 dark:text-slate-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors"
          title="Delete Article"
        >
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
            />
          </svg>
        </button>

        <a
          [href]="article().url"
          target="_blank"
          class="ml-2 px-3 py-1.5 text-xs font-bold text-blue-600 dark:text-blue-400 border border-blue-600 dark:border-blue-500 rounded-lg hover:bg-blue-600 dark:hover:bg-blue-500 hover:text-white dark:hover:text-slate-900 transition-all"
        >
          READ MORE
        </a>
      </div>
    </div>
  </div>
</article>
